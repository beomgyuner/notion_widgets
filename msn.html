<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>♡ chat ♡</title>

<style>
body{
  margin:0;
  background:linear-gradient(#ffd6ec,#ffc2e3);
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
}

/* MAIN CHAT WINDOW */
.chat-window{
  width:360px;
  height:600px;
  background:#fff0f7;
  border-radius:30px;
  box-shadow:
    0 10px 25px rgba(0,0,0,0.2),
    inset 0 2px 0 rgba(255,255,255,0.8);
  display:flex;
  flex-direction:column;
  overflow:hidden;
  border:1px solid #ffb6d9;
}

/* HEADER */
.header{
  background:linear-gradient(#ff9ccc,#ff6fb4);
  color:white;
  padding:14px;
  text-align:center;
  font-weight:bold;
  font-size:16px;
  letter-spacing:0.5px;
  box-shadow:inset 0 -2px 0 rgba(255,255,255,0.4);
}

/* CHAT AREA */
.chat-box{
  flex:1;
  padding:15px;
  overflow-y:auto;
  display:flex;
  flex-direction:column;
  gap:10px;
}

/* MESSAGE BUBBLES */
.message{
  max-width:75%;
  padding:10px 14px;
  border-radius:18px;
  font-size:14px;
  line-height:1.4;
  box-shadow:0 2px 5px rgba(0,0,0,0.1);
}

.bot{
  background:linear-gradient(#ffffff,#ffe4f2);
  align-self:flex-start;
  border-bottom-left-radius:5px;
}

.user{
  background:linear-gradient(#ff9ccc,#ff6fb4);
  color:white;
  align-self:flex-end;
  border-bottom-right-radius:5px;
}

/* CHOICE BUTTONS */
.choices{
  padding:12px;
  background:linear-gradient(#ffe4f2,#ffd3ea);
  display:flex;
  flex-direction:column;
  gap:8px;
  border-top:1px solid #ffb6d9;
}

.choice-btn{
  background:linear-gradient(#ffffff,#ffe4f2);
  border:none;
  border-radius:14px;
  padding:10px;
  font-size:13px;
  cursor:pointer;
  box-shadow:
    0 2px 4px rgba(0,0,0,0.1),
    inset 0 1px 0 rgba(255,255,255,0.9);
  transition:0.2s;
}

.choice-btn:hover{
  background:linear-gradient(#fff,#ffd6ec);
}

.choice-btn:active{
  transform:scale(0.97);
}

</style>
</head>
<body>

<div class="chat-window">
  <div class="header">♡ online ♡</div>
  <div class="chat-box" id="chatBox"></div>
  <div class="choices" id="choices"></div>
</div>

<script>
const chatBox = document.getElementById("chatBox");
const choicesDiv = document.getElementById("choices");

let currentState;

/* RANDOM SCENARIOS */
const scenarios = [

{
  start:{
    text:"hi… why are you awake at this hour? (๑•́ ₃ •̀๑)",
    choices:[
      {text:"thinking about you.", next:"blush"},
      {text:"couldn’t sleep.", next:"sleep"}
    ]
  },
  blush:{
    text:"don’t say that so casually… my heart isn’t prepared (⁄ ⁄•⁄ω⁄•⁄ ⁄)",
    choices:[]
  },
  sleep:{
    text:"me too… maybe we’re thinking about the same thing?",
    choices:[
      {text:"maybe.", next:"maybe"},
      {text:"don’t assume things.", next:"tsun"}
    ]
  },
  maybe:{
    text:"…then stay with me a little longer ♡",
    choices:[]
  },
  tsun:{
    text:"wow okay cold person era activated.",
    choices:[]
  }
},

{
  start:{
    text:"i found our old messages from 2012…",
    choices:[
      {text:"delete them.", next:"delete"},
      {text:"what did we say?", next:"curious"}
    ]
  },
  delete:{
    text:"you really want to erase that version of us?",
    choices:[]
  },
  curious:{
    text:"we used so many sparkly emojis… it was embarrassing.",
    choices:[
      {text:"i was cute.", next:"cute"},
      {text:"you were cringe.", next:"cringe"}
    ]
  },
  cute:{
    text:"you were. still are, unfortunately.",
    choices:[]
  },
  cringe:{
    text:"wow… betrayal in 4k.",
    choices:[]
  }
}

];

const scenario = scenarios[Math.floor(Math.random()*scenarios.length)];
currentState="start";

function addMessage(text, sender="bot"){
  const msg=document.createElement("div");
  msg.classList.add("message",sender);
  msg.innerText=text;
  chatBox.appendChild(msg);
  chatBox.scrollTop=chatBox.scrollHeight;
}

function showChoices(choices){
  choicesDiv.innerHTML="";
  choices.forEach(choice=>{
    const btn=document.createElement("button");
    btn.classList.add("choice-btn");
    btn.innerText=choice.text;
    btn.onclick=()=>{
      addMessage(choice.text,"user");
      nextState(choice.next);
    };
    choicesDiv.appendChild(btn);
  });
}

function nextState(state){
  currentState=state;
  setTimeout(()=>{
    addMessage(scenario[state].text,"bot");
    showChoices(scenario[state].choices);
  },400);
}

window.onload=()=>{
  addMessage(scenario.start.text,"bot");
  showChoices(scenario.start.choices);
};
</script>

</body>
</html>
