<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>♡ chat ♡</title>

<style>
body{
  margin:0;
  background:#ffffff;
  font-family:"Helvetica Neue", Helvetica, Arial, sans-serif;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
}

/* MAIN CHAT WINDOW */
.chat-window{
  width:360px;
  height:600px;
  background:#fff0f7;
  border-radius:30px;
  box-shadow:
    0 8px 12px rgba(0,0,0,0.25),
    inset 0 -3px 4px rgba(0,0,0,0.15),
    inset 0 2px 0 rgba(255,255,255,0.9);
  display:flex;
  flex-direction:column;
  overflow:hidden;
  border:1px solid #ffb6d9;
  position:relative;
}

/* HEADER */
.header{
  background:linear-gradient(#ff8fc6,#ff4fa3);
  color:white;
  height:60px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:bold;
  font-size:16px;
  letter-spacing:0.5px;
  box-shadow:
    inset 0 -3px 4px rgba(0,0,0,0.15),
    inset 0 2px 0 rgba(255,255,255,0.6);
}

/* CHAT AREA */
.chat-box{
  flex:1;
  padding:15px;
  overflow-y:auto;
  display:flex;
  flex-direction:column;
  gap:12px;
}

/* MESSAGE ROW */
.message-row{
  display:flex;
  align-items:flex-end;
  gap:8px;
}

.message-row.user{
  justify-content:flex-end;
}

/* AVATAR */
.avatar{
  width:34px;
  height:34px;
  border-radius:50%;
  object-fit:cover;
  box-shadow:
    0 2px 3px rgba(0,0,0,0.2),
    inset 0 1px 0 rgba(255,255,255,0.7);
}

/* BUBBLE */
.bubble{
  max-width:70%;
  padding:10px 14px;
  border-radius:18px;
  font-size:14px;
  line-height:1.4;
}

/* BOT BUBBLE */
.bubble.bot{
  background:linear-gradient(#ffffff,#ffe4f2);
  border:1px solid #f3b7d6;
  border-bottom-left-radius:6px;
  box-shadow:
    0 2px 3px rgba(0,0,0,0.15),
    inset 0 1px 0 rgba(255,255,255,0.9),
    inset 0 -2px 3px rgba(0,0,0,0.1);
}

/* USER BUBBLE */
.bubble.user{
  background:linear-gradient(#ff9ccc,#ff6fb4);
  color:white;
  border:1px solid #e05a9e;
  border-bottom-right-radius:6px;
  box-shadow:
    0 2px 3px rgba(0,0,0,0.2),
    inset 0 1px 0 rgba(255,255,255,0.5),
    inset 0 -2px 3px rgba(0,0,0,0.2);
}

/* CHOICE BUTTONS */
.choices{
  padding:12px;
  background:linear-gradient(#ffe4f2,#ffd3ea);
  display:flex;
  flex-direction:column;
  gap:8px;
  border-top:1px solid #ffb6d9;
}

.choice-btn{
  background:linear-gradient(#ffffff,#ffe4f2);
  border:none;
  border-radius:14px;
  padding:10px;
  font-size:13px;
  cursor:pointer;
  box-shadow:
    0 2px 4px rgba(0,0,0,0.1),
    inset 0 1px 0 rgba(255,255,255,0.9);
  transition:0.2s;
}

.choice-btn:hover{
  background:linear-gradient(#fff,#ffd6ec);
}

.choice-btn:active{
  transform:scale(0.97);
}

</style>
</head>
<body>

<div class="chat-window">
  <div class="header">♡ online ♡</div>
  <div class="chat-box" id="chatBox"></div>
  <div class="choices" id="choices"></div>
</div>

<script>
const chatBox = document.getElementById("chatBox");
const choicesDiv = document.getElementById("choices");

const botAvatar = "https://file.garden/aXTkw7hiK3vn4ais/tumblr_757b7e78a0ac923de0ba563efd299373_fd64e72f_540.gif";
const userAvatar = "https://file.garden/aXTkw7hiK3vn4ais/%E2%A0%80%20%20%20%20%E1%A3%9F%DD%82%E2%91%85%20%E5%86%B4%E6%84%9B%20%20%DD%82%E0%A5%B1%20%20%DB%AA%20%D7%82%20%E1%A9%A7%20%20%E2%99%A1.jpg";

const scenarios = [
  // miss me
{
  start:{
    text:"So you're saying you don't miss me and hate me and you wanna break up?",
    choices:[
      {text:"NO???", next:"hmph"},
      {text:"im saying u need to lie down ...", next:"rudie"}
    ]
  },
  hmph:{
    text:"Okay u can go hang out with ur side hoe. Cloud or whatever his name is",
    choices:[]
  },
  rudie:{
    text:"I should be saying that to you.",
    choices:[
      {text:"can u leave me alone", next:"hmph"},
      {text:"I'M DOING IMPORTANT STUFF", next:"isee"}
    ]
  },
  isee:{
    text:"I see you making a new spotify playlist don't lie",
    choices:[
      {text:"HOW DO YOU KNOW THAT", next:"acc"}
    ]
  },
  acc:{
    text:"? We share a Spotify account",
    choices:[]
  }
},

{
  start:{
    text:"Hi Hali, who's that?",
    choices:[
      {text:"none of ur business :P", next:"brat"},
      {text:"who's who hoonieee", next:"thatman"}
    ]
  },
  brat:{
    text:"I should know. Men are wolves, dont forget that.",
    choices:[
      {text:"but hoonie ur a man...", next:"itsdiff"}
    ]
  itsdiff:{
    text:"But it's different for me, isn't it?",
    choices:[]
  },
  thatman:{
    text:"The man you were with at the cafe",
    choices:[
      {text:"well wouldnt u like to know", next:"brat"},
      {text:"OHH him? he's my group mate for a project", next:"ahh"}
    ]
  },
  ahh:{
    text:"Ahh, that's why I don't recognize him. I think he's a little too friendly, though.",
    choices:[
      {text:"he is really friendly actually!! he's sooo nice he bought me a drink n even a pastry", next:"hungry"},
      {text:"is that bad :c", next:"dw"}
    ]
  },
  hungry:{
    text:"Hmm, really? I guess you don't have any space in your stomach for the cake I'm bringing home, then.",
    choices:[]
  },
  dw:{
    text:"If it was me then it wouldn't be",
    choices:[]
  }
}

];

const scenario = scenarios[Math.floor(Math.random()*scenarios.length)];
let currentState="start";

function addMessage(text, sender="bot"){
  const row = document.createElement("div");
  row.classList.add("message-row", sender);

  const bubble = document.createElement("div");
  bubble.classList.add("bubble", sender);
  bubble.innerText = text;

  const avatar = document.createElement("img");
  avatar.classList.add("avatar");
  avatar.src = sender === "bot" ? botAvatar : userAvatar;

  if(sender === "bot"){
    row.appendChild(avatar);
    row.appendChild(bubble);
  } else {
    row.appendChild(bubble);
    row.appendChild(avatar);
  }

  chatBox.appendChild(row);
  chatBox.scrollTop = chatBox.scrollHeight;
}

function showChoices(choices){
  choicesDiv.innerHTML="";
  choices.forEach(choice=>{
    const btn=document.createElement("button");
    btn.classList.add("choice-btn");
    btn.innerText=choice.text;
    btn.onclick=()=>{
      addMessage(choice.text,"user");
      nextState(choice.next);
    };
    choicesDiv.appendChild(btn);
  });
}

function nextState(state){
  currentState=state;
  setTimeout(()=>{
    addMessage(scenario[state].text,"bot");
    showChoices(scenario[state].choices);
  },400);
}

window.onload=()=>{
  addMessage(scenario.start.text,"bot");
  showChoices(scenario.start.choices);
};
</script>

</body>
</html>
